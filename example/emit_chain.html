<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title> emit chain </title>
</head>

<body>

  <script src="../dist/flowhub.min.js"></script>

  <script>
    $hub.chain('test').pipe(
      d => new Promise((resolve) => setTimeout(() => resolve(d + 1), 2000)),
      d => d + 2,
      d => d + 3,
    ).pipe(d => d + 3)

    $hub.on('@chain/test', d => console.log(d))

    $hub.emit('@chain/test', 1) // 10
  </script>

</body>

</html>
